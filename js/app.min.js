const text=document.querySelector("input[type=text]"),form=document.querySelector("form"),lettersToAddKashidaAfter=document.querySelector("#inject-kashida-after"),lettersToIgnoreKashidaBefore=document.querySelector("#ignore-kashida-before"),buttonArray=document.querySelectorAll("button"),paragraph=document.querySelector("p"),space=" ",kashida="ـ",breakLine="\n",zwnj="‌";let counter;form.addEventListener("submit",event=>{event.preventDefault();let script=text.value.trim().replace(/  +/g," ");const letterToAddKashidaAfterArray=lettersToAddKashidaAfter.value.trim().split("\n"),letterToIgnoreKashidaBeforeArray=lettersToIgnoreKashidaBefore.value.trim().split("\n");if(script&&letterToAddKashidaAfterArray&&letterToIgnoreKashidaBeforeArray){letterToIgnoreKashidaBeforeArray.push("‌"," ");for(let i=0;i<script.length;i++){counter=0;const currentLetter=script[i],nextLetter=script[i+1];for(let j=0;j<letterToAddKashidaAfterArray.length;j++){const letterToAddKashidaAfter=letterToAddKashidaAfterArray[j];if(nextLetter&&currentLetter==letterToAddKashidaAfter){for(let k=0;k<letterToIgnoreKashidaBeforeArray.length;k++){const letterToIgnoreKashidaBefore=letterToIgnoreKashidaBeforeArray[k];nextLetter!=letterToIgnoreKashidaBefore&&counter++}counter==letterToIgnoreKashidaBeforeArray.length&&(script=`${script.substring(0,i+1)}ـ${script.substring(i+1)}`)}}}paragraph.textContent=script}else script||text.classList.add("placeholder:font-bold"),lettersToAddKashidaAfter.value||lettersToAddKashidaAfter.classList.add("placeholder:font-bold"),lettersToIgnoreKashidaBefore.value||lettersToIgnoreKashidaBefore.classList.add("placeholder:font-bold")});const addButtonStyles=()=>{for(let i=0;i<buttonArray.length;i++){const button=buttonArray[i];button.classList.remove("bg-gray-900"),button.classList.add("bg-gray-800")}},removeButtonStyles=()=>{for(let i=0;i<buttonArray.length;i++){const button=buttonArray[i];button.classList.remove("bg-gray-800"),button.classList.add("bg-gray-900")}};for(let i=0;i<buttonArray.length;i++){const button=buttonArray[i];button.addEventListener("mouseover",()=>{addButtonStyles()}),button.addEventListener("mouseout",()=>{removeButtonStyles()})}paragraph.addEventListener("click",()=>{navigator.clipboard.writeText(paragraph.textContent)});